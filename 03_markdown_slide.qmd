---
title: "3/ Markdown文法の基礎"
modified-date: today
format: 
  revealjs:
    footer: "3/ Markdown文法の基礎"
metadata-files: 
  - "style/slide.yml"
---

```{r}
#| include: false
pacman::p_load(tidyverse, gt)
```

{{< include _common.qmd >}}

# **1** はじめてのQuarto

## とりあえずレンダー（1）

1. File > New File > Quarto Document

![](figs/markdown/render_1.png){fig-align="center"}

## とりあえずレンダー（2）

2. 「Editor: User visual markdown editor」のチェックを外す

![](figs/markdown/render_2.png){fig-align="center"}

## とりあえずレンダー（3）

3. Sourceペイン上段の「Render」をクリック

![](figs/markdown/render_3.png){fig-align="center"}

## とりあえずレンダー（4）

4. ソースコードとViewerペインの出力物の対応関係を確認

![](figs/markdown/render_4.png){fig-align="center" width=80%}

## Quartoファイルの構造

````markdown
---
YAMLヘッダー
---

テキスト1

```{{r}}
チャンク
```

テキスト2
````

- [**YAMLヘッダー**]{.alert}：文書のメタ情報や見た目などに関する設定。**YAML文法**で記述
- 本文
   - [**テキスト**]{.alert}：そのまま出力される。**Markdown文法**で記述
   - [**チャンク**]{.alert}：チャンク内の**Rコード**は評価され、出力される。

# **2** Markdown文法

## 様々なMarkdown記法

QuartoのMarkdown記法は以下の記法をほとんど内包し、+ $\alpha$の機能も多い。

- CommonMark
   - John Gruber[（とAaron Swartz）]{.small}が考案したMarkdown記法の標準化
- GitHub Flavored Markdown[（GFM）]{.small}
   - CommonMarkに表、自動リンク、取り消し線などを追加した記法
- Markdown Extra、MultiMarkdown、Markua、...
   - 脚注、数式、引用、相互参照、...


## 改行と強調

- 改行は必ず**2回改行**すること（1回改行は同じ行として認識される）

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
文章1
文章2

文章3
```
:::

::: {.column width=50%}
**Output:**

文章1
文章2

文章3
:::
::::

- イタリックは`*`、太字は`**`、取り消しは`~~`で囲む^[下線は用意されていないため、HTMLタグを使用する（`<u>`と`</u>`で囲むなど）。]。

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
*Italic*

**太字**

~~取り消し~~
```
:::

::: {.column width=50%}
**Output:**

*Italic*

**太字**

~~取り消し~~
:::
::::

## 見出し

- 部、章、節、項、...の見出し（`#`の数が多いほど文字が小さくなる）
   - `#`は6つまで
- 章の見出しを`##`にするなら節は`###`、小節（または項）は`####`、...

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
# 見出し1

## 見出し2

### 見出し3

#### 見出し3
```
:::

::: {.column width=50%}
**Output:**

<font style="font-size:2em;font-weight:600;">見出し1</font>

<font style="font-size:1.75em;font-weight:600;">見出し2</font>

<font style="font-size:1.5em;font-weight:600;">見出し3</font>

<font style="font-size:1.25em;font-weight:600;">見出し4</font>
:::
::::

## リンク

`[リンク文](URL)`：`[]`で囲まれた文章をクリックすると`()`内で指定したURLへ移動

- `{target="_blank"}`を付けると新しいタブで開くようになる[（Quarto仕様）]{.small}^[YAMLヘッダーで`link-external-newwindow: true`を指定すると、すべてのリンクが新しいタブで開くようになる。]。

**Input:**

```markdown
[宋のHP](https://www.jaysong.net)

[関大のHP](https://www.kansai-u.ac.jp/){target="_blank"}
```

**Output:**

[宋のHP](https://www.jaysong.net)

[関大のHP](https://www.kansai-u.ac.jp/){target="_blank"}

## 脚注

- 脚注の入れ方：`^[脚注の内容]`
- 内容が長い場合、`[^識別子]`で脚注の位置だけ指定し、別の箇所に`[^識別子]: 脚注の内容`

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
家系ラーメン^[横浜]が食べたい。

ラーメン二郎[^jiro]も食べたい。

[^jiro]: 港区（東京）
```
:::

::: {.column width=50%}
**Output:**

家系ラーメン^[横浜]が食べたい。

ラーメン二郎[^jiro]も食べたい。

[^jiro]: 港区（東京）
:::
::::

## コメント

出力に影響されないコメントを入れる場合

- HTMLのコメント機能を使用：`<!--`と`-->`内に囲む
   - `<!--`と`-->`の間の文章は出力されない
- 自分用のメモ、とりあえず出力させない内容などに使用

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
これは文章1です。

<!--
これはコメントです。
-->

これは文章2です。
```
:::

::: {.column width=50%}
**Output:**

これは文章1です。

<!--
これはコメントです。
-->

これは文章2です。
:::
::::

## 箇条書き（順序なし）

- `-` + 半角スペース + 内容
   - 入れ子型の箇条書きは半角スペース2つ以上の字下げ
   - `-`の代わりに`*`も可

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
- 項目1
  - 項目1-1
  - 項目1-2
    - 項目1-2-1
      - 項目1-2-1-1
    - 項目1-2-2
- 項目2
- 項目3
```
:::

::: {.column width=50%}
**Output:**

- 項目1
  - 項目1-1
  - 項目1-2
    - 項目1-2-1
      - 項目1-2-1-1
    - 項目1-2-2
- 項目2
- 項目3
:::
::::

## 箇条書き（順序あり）

- `1.` + 半角スペース + 内容
   - 番号は自動的に振られるが、`1.`の代わりに`2.`を使うと2からスタート
   - `1.`、`2.`、`3.`、...の書き方も可（非推奨）

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
1. 項目1
   1. 項目1-1
   1. 項目1-2
   1. 項目1-3
2. 項目2
   * 項目2-1
   * 項目2-2
3. 項目3
```
:::

::: {.column width=50%}
**Output:**

1. 項目1
   1. 項目1-1
   3. 項目1-2
   2. 項目1-3
2. 項目2
   * 項目2-1
   * 項目2-2
3. 項目3
:::
::::

## 箇条書き（チェックリスト）

- `-` + 半角スペース + `[x]` + 半角スペース + テキスト：checked item
   - `x`を半角スペースにするとunchecked item

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
買い物リスト（キムチチゲ）

- 食材
   - [x] キムチ
   - [ ] 玉ねぎ
   - [x] 豚肉（肩ロース）
- 調味料
   - [ ] 醤油
   - [ ] 砂糖
   - [x] 味の素
```
:::

::: {.column width=50%}
**Output:**

買い物リスト（キムチチゲ）

- 食材
   - [x] キムチ
   - [ ] 玉ねぎ
   - [x] 豚肉（肩ロース）
- 調味料
   - [ ] 醤油
   - [ ] 砂糖
   - [x] 味の素
:::
::::

## 表

- 行は改行（1回） + 列は`|`で表記
- ただし、1行目（ヘッダー）と2行目（ボディー）の間には`-`を1つ以上入れる
   - `:-`は左揃え、`-:`は右揃え、`:-:`は中央揃え（`-`のみは左揃え）

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
|ID   |Name |Height|Favorite|
|:---:|-----|-----:|:-------|
|1    |SONG |176   |Ramen   |
|2    |Yanai|230   |Cat food|
```
:::

::: {.column width=50%}
**Output:**

|ID   |Name |Height|Favorite|
|:---:|-----|-----:|:-------|
|1    |SONG |176   |Ramen   |
|2    |Yanai|230   |Cat food|
:::
::::

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
|ID|Name|Height|Favorite|
|:-:|-|-:|:-|
|1|SONG|176|Ramen|
|2|Yanai|230|Cat food|
```
:::

::: {.column width=50%}
**Output:**

|ID|Name|Height|Favorite|
|:-:|-|-:|:-|
|1|SONG|176|Ramen|
|2|Yanai|230|Cat food|
:::
::::

## 図

- `![代替テキスト](画像のパス/URL)`
   - 代替テキストはキャプションとしても機能する

**Input:**

```markdown
![R Cat](https://www.jaysong.net/imgs/favicon.png)
```

**Output:**

![R Cat](https://www.jaysong.net/imgs/favicon.png)

## 図の位置

- `{fig-align=位置}`を追加[（Quarto限定）]{.small}
   - 例）`"left"`（左）、`"center"`（中央）、`"right"`（右）

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
![](画像URL or パス){fig-align="left"}
```
:::

::: {.column width=50%}
**Output:**

![](figs/rcat.png){width="100px" fig-align="left"}
:::
::::

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
![](画像URL or パス){fig-align="center"}
```
:::

::: {.column width=50%}
**Output:**

![](figs/rcat.png){width="100px" fig-align="center"}
:::
::::

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
![](画像URL or パス){fig-align="right"}
```
:::

::: {.column width=50%}
**Output:**

![](figs/rcat.png){width="100px" fig-align="right"}
:::
::::

## 図の大きさ

- `{width=図の幅}`を追加[（Quarto限定）]{.small}
   -  例）`300px`[（300ピクセル; `px`は省略可）]{.small}、`1in`[（1インチ）]{.small}、`25%`[（画面の25%）]{.small}

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
![Tiny cat](画像URL){width=30}

![Big cat](画像URL){width=100}
```
:::

::: {.column width=50%}
**Output:**

![Tiny cat](https://www.jaysong.net/imgs/favicon.png){width=30}

![Big cat](https://www.jaysong.net/imgs/favicon.png){width=100}
:::
::::

## 数式

<!-- inline と display -->
文中数式は`$数式$`、独立した行の数式は`$$`で囲む。

:::: {.columns}
::: {.column width=50%}
**Input:**

```markdown
文中の数式：$e = mc^2$
```
:::

::: {.column width=50%}
**Output:**

文中の数式：$e = mc^2$
:::
::::

**Input:**

```markdown
$$
F(x; \mu, b) =
\begin{cases}
   0.5 \exp(\frac{x - \mu}{b})       & \text{if} \quad x < \mu \\
   1 - 0.5 \exp(- \frac{x - \mu}{b}) & \text{if} \quad x \geq \mu
\end{cases}
$$
```

**Output:**
$$
F(x; \mu, b) =
\begin{cases}
   0.5 \exp(\frac{x - \mu}{b})       & \text{if} \quad x < \mu \\
   1 - 0.5 \exp(- \frac{x - \mu}{b}) & \text{if} \quad x \geq \mu
\end{cases}
$$

## 複数の図表の配置

`::: {layout-*=}`と`:::`の間に図表を入れる（`layout-ncol`、または`layout-nrow`）

:::: {.columns}
::: {.column width=50%}
**Input:**

````markdown
::: {layout-ncol=4}
![零号機](画像1のURL or パス)

![初号機](画像2のURL or パス)

![弐号機](画像3のURL or パス)

![量産機](画像4のURL or パス)
:::
````

**Output:**

::: {layout-ncol=4}
![零号機](figs/markdown/rcat_0.png){width=100}

![初号機](figs/markdown/rcat_1.png){width=100}

![弐号機](figs/markdown/rcat_2.png){width=100}

![量産機](figs/markdown/rcat_3.png){width=100}
:::
:::

::: {.column width=50%}
**Input:**

````markdown
::: {layout-ncol=2}
|ID   |Name |Favorite|
|:---:|-----|:-------|
|1    |SONG |Ramen   |

|ID   |Name |Favorite|
|:---:|-----|:-------|
|2    |Yanai|Cat food|
:::
````

**Output:**

::: {layout-ncol=2}
|ID   |Name |Favorite|
|:---:|-----|:-------|
|1    |SONG |Ramen   |

|ID   |Name |Favorite|
|:---:|-----|:-------|
|2    |Yanai|Cat food|
:::

:::
::::

# **3** Rコードとの統合

## Rコードの入れ方

[**チャンク[（chunk）]{.small}**]{.alert}内で記述されたRコードは評価[（evaluation）]{.small}される。

- チャンクは```` ```{r} ````で始まり、```` ``` ````で終わる^[`r`の箇所を`markdown`、`css`等にすることも出来る]。
- ショートカットキー：Cmd + Option + I（macOS）、Ctrl + Alt + I（その他のOS）

:::: {.columns}
::: {.column width=50%}
**Input:**

````
以下のRコードは評価されない

sum(1:100)

```{{r}}
# 以下はRコードは評価される
sum(1:100)
```

````
:::

::: {.column width=50%}
**Output:**

以下のRコードは評価されない

sum(1:100)

```{r}
#| echo: true
# 以下はRコードは評価される
sum(1:100)
```
:::
::::

## インラインコード

[**インラインコード**[（inline code）]{.small}]{.alert}：チャンク外[（=文章内）]{.small}に挿入するRコード

- チャンク内のRコードはRコードと評価結果、両方出力されるが、インラインコードは評価[結果のみ]{.alert}出力される。
- ```` `r ````と```` ` ````の間にコードを記述（`r`を省略すると[コードのみ]{.alert}出力）
   - チャンク内のオブジェクトを参照することも可能

:::: {.columns}
::: {.column width=50%}
**Input:**

````
1〜100の総和：`r "\x60r sum(1:100)\x60"`

```{{r}}
x <- c(1, 2, 3, 5, 7)
```

`sum(x)`の実行結果：`r "\x60r sum(x)\x60"`
````
:::

::: {.column width=50%}
**Output:**

1〜100の総和：`r sum(1:100)`

```{r}
#| echo: true
x <- c(1, 2, 3, 5, 7)
```

`sum(x)`の実行結果：`r sum(x)`
:::
::::

# **4** チャンクオプション

## チャンクオプション

チャンクの最上段で指定（コードより後ろのオプションは無視される）

- `#|` + 半角スペース + `オプション名:` + 半角スペース + `値`
- 1つのチャンクに複数のオプションも可
- 論理型の値は`TRUE`/`FALSE`でなく、`true`/`false`

```{{r}}
#| オプション1: 値
#| オプション2: 値
Rコード
```

## 代表的なチャンクオプション

- `label`、`cahce`、`dependson`
- `echo`、`eval`、`include`、`collapse`
- `error`、`message`、`warning`
- 図に関連するオプション
   - `fig-width`、`fig-height`、`out-width`、`out-height`、`fig-dpi`、`dev`など
- レイアウト、キャプション、サブキャプション

## label：チャンクのラベル

- チャンクにラベル[（名前）]{.small}を付ける理由
   - レンダー時エラーが発生した際、どのチャンクが問題かが分かる。
   - 図表番号の相互参照[（後述）]{.small}
   - 他チャンクとの依存関係の指定[（後述）]{.small}
- 付け方：`#| label: ラベル名`
   - 図（表）を生成するチャンクは接頭詞として`fig-`（`tab-`）を付ける。
- ラベル指定によって処理結果や見た目が変わることはない

:::: {.columns}
::: {.column width=50%}
**Input:**

````
```{{r}}
#| label: my-chunk
x <- 1:10
sum(x)
```
````
:::

::: {.column width=50%}
**Output:**

```{r}
#| label: my-chunk
#| echo: true
x <- 1:10
sum(x)
```
:::
::::

## cache：処理結果の保存

- チャンク内コードの実行時間が非常に長い場合
   - `#| cache: true`：処理結果を最初のレンダー時に別途保存し、チャンク内コードに変更がない限り、その結果を参照
- 注意：当該チャンクが別のチャンクに依存していても、当該チャンクのコードの変更がなければ処理結果は変わらない

:::: {.columns}
::: {.column width=50%}
**Input:**

````
```{{r}}
x <- 1:10
```

```{{r}}
#| cache: true
sum(x)
```
````
:::

::: {.column width=50%}
**Output:**

```{r}
#| echo: true
x <- 1:10
```

```{r}
#| echo: true
sum(x)
```

- しかし、1番目のコードが`x <- 1:100`になっても、２番目のコードは変わっていないため、`sum(x)`の結果は55のまま
:::
::::

## dependson：チャンク間の依存関係

- 依存されるチャンクにラベルを指定し、依存するチャンクには`dependson`オプションを追加

:::: {.columns}
::: {.column width=50%}
**Example:**

````{.markdown}
```{{r}}
#| label: my-chunk-01
#| cache: true
x <- 1:10
```

```{{r}}
#| cache: true
#| dependson: my-chunk-01
sum(x)
```
````
:::

::: {.column width=50%}
[**注意点**]{.alert}

- 依存<ruby>される<rt>・・・</rt></ruby>側のチャンクにも`|# cache: true`を付ける
   - 依存するチャンク、されるチャンク、両方をキャッシング[（caching）]{.small}したいと`dependson`は機能しない
:::
::::

## echo、eval：コード、評価結果の出力

- いずれも既定値は`true`
   - `#| echo: false`：コードを出力しない（評価はする）
   - `#| eval: false`：評価しない（コードは出力する）

:::: {.columns}
::: {.column width=50%}
**Input（1）:**

```{{r}}
#| echo: false
sum(1:100)
```
:::

::: {.column width=50%}
**Output（1）:**

```{r}
#| eval: true
#| echo: false
print("Hi!")
```
:::
::::

:::: {.columns}
::: {.column width=50%}
**Input（2）:**

```{{r}}
#| eval: false
sum(1:100)
```
:::

::: {.column width=50%}
**Output（2）:**

```{r}
#| eval: false
#| echo: true
print("Hi!")
```
:::
::::

## 参考）評価されないチャンクの作り方

`{r}`の代わりに`{.r}`か`r`を使用

- `markdown`、`yaml`、`css`などのチャンクにも使用可

:::: {.columns}
::: {.column}
**Input:**

````markdown
```r
print("Hi"!)
```
````
:::

::: {.column}
**Output:**

```r
print("Hi"!)
```
:::
::::

:::: {.columns}
::: {.column}
**Input:**

````markdown
```{.r}
print("Hi"!)
```
````
:::

::: {.column}
**Output:**

```{.r}
print("Hi"!)
```
:::
::::

## include：評価のみ行う

- `#| include: false`：コード、評価結果いずれも出力しない
   - しかし、[**コードの評価は行う**]{.alert}。
   - `echo: false`＆`eval: false`はコードを評価しない

:::: {.columns}
::: {.column width=50%}
**Input:**

````markdown
```{{r}}
#| include: false
hidden_x <- 1:10
```

```{{r}}
sum(hidden_x)
```
````
:::

::: {.column width=50%}
**Output:**

```{r}
#| eval: true
#| echo: true
#| include: false
hidden_x <- 1:10
```

```{r}
#| eval: true
#| echo: true
sum(hidden_x)
```
:::
::::

## collapse：コードと評価結果をまとめる

コードと評価結果を同一ブロックにまとめる（既定値は`false`）

<!--
- 縦スペースの節約
- 対話型のコードなら可読性も上がる
- 評価結果もブロックにはいるので、より文章と区分される
-->

:::: {.columns}
::: {.column width=50%}
**Input（1）:**

```{{r}}
print("Hi!")
sum(1:100)
```
:::

::: {.column width=50%}
**Output（1）:**

```{r}
#| echo: true
print("Hi!")
sum(1:100)
```
:::
::::

:::: {.columns}
::: {.column width=50%}
**Input（2）:**

```{{r}}
#| collapse: true
print("Hi!")
sum(1:100)
```
:::

::: {.column width=50%}
**Output（2）:**

```{r}
#| echo: true
#| collapse: true
print("Hi!")
sum(1:100)
```
:::
::::

## 各種メッセージの出力

- 警告メッセージ（`warning`）、通常のメッセージ（`message`）のON/OFF
   - 既定値は`true`
   - {tidyverse}の読み込み、`read_csv()`によるファイルの読込時に表示されるメッセージが鬱陶しいなら`#| message:false`
- `error`：エラーメッセージの出力
   - 既定値（`false`）のままだと、レンダーが中止される
   - `#| error: true`の場合、レンダーは中止されず最後のチャンクまで評価される。エラーメッセージは出力物に出力される。

## 図の大きさ

- 図そのものの大きさ：`fig-width`と`fig-height`
   - 単位はインチ
- 出力物上での大きさ：`out-width`と`out-height`
   - 単位はインチ[（`3in`）]{.small}、センチ[（`8cm`）]{.small}、px[（`500px`）]{.small}、割合[（`75%`）]{.small}
- 図の解像度：`fig-dpi`
   - 既定値は96だが、PDF出力や印刷をする場合、最低でも300は必要
   - 解像度が高いほどファイルのサイズが大きくなることに注意
- 作図エンジン：`dev`
   - `dev: ragg_png`にしておけば、とりあえず文字化けの心配はない[（{ragg}が必要）]{.small}
   - すべてのチャンクに指定することは非効率的なので、YAMLヘッダーで指定することを推奨[（後述）]{.small}

## 図表のキャプション

- `fig-cap`（図）と`tbl-cap`（表）：ラベルと組み合わせると「図1. ...」
   - 注意：図（表）を生成するチャンクのラベルは`fig-`（`tbl-`）で始める

:::: {.columns}
::: {.column width=50%}
**Input:**

```{{r}}
#| tbl-cap: "表のキャプション"
gt(iris[1:3,])
```
:::

::: {.column width=50%}
**Output:**

```{r}
#| echo: true
#| tbl-cap: "表のキャプション"
gt(iris[1:3,])
```
:::
::::

:::: {.columns}
::: {.column width=50%}
**Input（2）:**

```{{r}}
#| echo: false
#| label: fig-myfig-01
#| fig-cap: "図のキャプション"
plot(rnorm(100), type = "l")
```
:::

::: {.column width=50%}
**Output（2）:**

```{r}
#| echo: false
#| label: fig-myfig-01
#| fig-cap: "図のキャプション"
plot(rnorm(100), type = "l")
```
:::
::::

## 複数の図表の配置（1）

- `#| layout-ncol: 2`にするとチャンク内の図は2列構成で配置される
   - Rコードで生成される表（{gt}など）も可

:::: {.columns}
::: {.column width=50%}
**Input:**

```{{r}}
#| layout-ncol: 2
plot(1:10)

plot(rnorm(10), type = "l")
```
:::

::: {.column width=50%}
**Output:**

```{r}
#| layout-ncol: 2
#| echo: true
#| fig-width: 3
#| fig-height: 3
#| fig-dpi: 120
plot(1:10)

plot(rnorm(10), type = "l")
```
:::
::::

## 複数の図表の配置（2）

- `#| layout`でカスタムレイアウト　　　　　　　　　　　

:::: {.columns}
::: {.column width=50%}
**Input:**

```{{r}}
#| layout: [[50, 50], [100]]
plot(1:10)

plot(rnorm(10))

plot(rnorm(10), type = "l")
```

- 2行構成で1行目は図2枚を50%、50%の割合、2行目は1枚を配置した例
   - `[49, -2, 49]`にすると、49% + 2%の余白 + 49%
:::

::: {.column width=50%}
**Output:**

```{r}
#| layout: [[50, 50], [100]]
#| echo: true
#| fig-dpi: 120
plot(1:10)

plot(rnorm(10))

plot(rnorm(10), type = "l")
```
:::
::::

## 複数の図表のキャプション（1）

- `#| fig-cap:`（`tbl-cap`）後に改行し、`#|` + 半角スペース3個 + `- キャプション`
   - ラベルは共有するが、個別のプロットを参照する場合は`fig-two-plots-1`（左）と`fig-two-plots-2`（右）

:::: {.columns}
::: {.column width=50%}
**Input:**

```{{r}}
#| label: fig-two-plots
#| layout-ncol: 2
#| fig-cap: 
#|   - "左の図"
#|   - "右の図"
plot(cars)
plot(pressure)
```
:::

::: {.column width=50%}
**Output:**

```{r}
#| label: fig-two-plots
#| layout-ncol: 2
#| fig-cap: 
#|   - "左の図"
#|   - "右の図"
plot(cars)
plot(pressure)
```
:::
::::

## 複数の図表のキャプション（2）

- `tbl-cap`（共通キャプション）と`tbl-subcap`（サブキャプション）を指定
   - 個別の図表を参照する方法は前頁と同じ

:::: {.columns}
::: {.column width=50%}
**Input:**

```{{r}}
#| label: tbl-three-tables
#| layout-ncol: 3
#| tbl-cap: irisデータセット
#| tbl-subcap: 
#|   - "setosa"
#|   - "versicolor"
#|   - "virginica"
gt(iris[1:5, 1:2])
gt(iris[51:55, 1:2])
gt(iris[101:105, 1:2])
```
:::

::: {.column width=50%}
**Output:**

```{r}
#| echo: true
#| label: tbl-three-tables
#| layout-ncol: 3
#| tbl-cap: irisデータセット
#| tbl-subcap: 
#|   - "setosa"
#|   - "versicolor"
#|   - "virginica"
gt(iris[1:5, 1:2])
gt(iris[51:55, 1:2])
gt(iris[101:105, 1:2])
```
:::
::::


## YAMLヘッダー内のチャンクオプション

YAMLヘッダー内で指定したチャンクオプションは[**すべてのチャンク**]{.alert}に適用される

- `knitr` > `opts_chunk`内に指定
- 一部のオプション名に注意
   - 例）`fig-width`と`fig.width`、`fig-dpi`と`dpi`など
- 例）すべてのチャンクに`dpi: 300`、`dev: ragg_png`オプションを付けたい場合

````yaml
---
title: タイトル
author: 作成者名
knitr:
  opts_chunk: 
    dpi: 300
    dev: ragg_png
---
````

## その他のオプション

Quartoの公式ホームページかknitrエンジンのマニュアルを参照

- <https://quarto.org/docs/reference/cells/cells-knitr.html>
- <https://yihui.org/knitr/options/>

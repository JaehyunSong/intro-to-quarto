<!DOCTYPE html>
<html lang="ja"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.27">

  <meta name="author" content="宋財泫（関西大学）">
  <title>Quarto実習資料 – 1/ Quartoとは</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-6f0504f73ce7d7daa471483f520ffc77.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-pointer/pointer.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">1/ Quartoとは</h1>
  <p class="subtitle">Quartoを使った研究成果と分析プロセスの共有</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
宋財泫（関西大学） 
</div>
</div>
</div>

</section>
<section id="自己紹介" class="slide level2">
<h2>自己紹介</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p><img data-src="figs/intro/profile.png"></p>
</div><div class="column" style="width:70%;">
<ul>
<li><strong>氏名：</strong><ruby>宋<rt>そん</rt></ruby><ruby>財泫<rt>じぇひょん</rt></ruby></li>
<li><strong>所属：</strong>関西大学総合情報学部　准教授</li>
<li>博士（政治学; 神戸大学）</li>
<li><i class="bi bi-house"></i> <a href="https://www.jaysong.net/" class="uri">https://www.jaysong.net/</a></li>
<li><i class="bi bi-envelope"></i> song<i class="bi bi-at"></i>kansai-u.ac.jp</li>
</ul>
</div></div>
</section>
<section>
<section id="quarto" class="title-slide slide level1 center">
<h1><strong>1</strong> Quarto?</h1>

</section>
<section id="まずはr-markdownから" class="slide level2">
<h2>まずはR Markdownから</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figs/intro/rmarkdown_logo.png" class="quarto-figure quarto-figure-center" width="250"></p>
</figure>
</div>
<ul>
<li>{knitr}<span class="small">（2012年頃）</span>と{rmarkdown}<span class="small">（2014年頃）</span>パッケージの登場</li>
<li>Rのコードと結果、文章が一つの文書としてまとめたものを生成
<ul>
<li>HTML、Microsoft Word、PDF等</li>
</ul></li>
<li>外部パッケージを使用することで様々な出力物が作成可能
<ul>
<li>スライド<span class="small">（{xaringan}）</span>、ホームページ<span class="small">（{blogdown}）</span>、書籍<span class="small">（{bookdown}）</span>など</li>
</ul></li>
<li>R + Markdown <span class="math inline">\(\rightarrow\)</span> <span class="alert"><strong>Markdownって何?</strong></span></li>
</ul>
</section>
<section id="プレーンテキストとリッチテキスト" class="slide level2">
<h2>プレーンテキストとリッチテキスト</h2>
<ul>
<li><strong>Plain text：</strong>純粋な<span class="alert">テキストのみで構成</span>されている文書（図表、書式情報<span class="math inline">\(\times\)</span>）
<ul>
<li>macOSのテキストエディット、Windowsのメモ帳、VS Code、Vimなど</li>
</ul></li>
<li><strong>Rich text：</strong>テキストだけでなく、<span class="alert">書式情報、図表なども含まれる</span>文書
<ul>
<li>書式情報の例: 文書の余白、行間の幅、文字サイズ、太さ、色</li>
<li>Microsoft Word、Apple Pages、LibreOffice Writer、一太郎など</li>
</ul></li>
<li>リッチテキストには文字情報以外にも様々な書式情報が含まれているため、サイズが大きく、パソコンへの負担も大きい（<span class="math inline">\(\doteqdot\)</span> <code>.xlsx</code> vs.&nbsp;<code>.csv</code>）</li>
</ul>
</section>
<section id="プレーンテキストからリッチテキストへ" class="slide level2">
<h2>プレーンテキストからリッチテキストへ</h2>
<ul>
<li><span class="alert"><strong>Markup</strong></span>言語：プレーンテキストをリッチテキストへ変換するための言語</li>
<li>HTML<span class="small">（HyperText <strong>Markup</strong> Language）</span>が代表的
<ul>
<li>例1） <code>&lt;b&gt;</code>と<code>&lt;/b&gt;</code>で囲まれた文字は太字として出力される。</li>
<li>例2） <code>&lt;a&gt;</code>と<code>&lt;/a&gt;</code>で囲まれた文字はリンクであり、<code>&lt;a&gt;</code>の<code>href</code>引数で指定されたリンク先へ飛ばされる。</li>
</ul></li>
<li>Webブラウザ<span class="small">（Firefox、Chrome、Edge、Safari等）</span>はプレーンテキストであるHTMLをリッチテキストへ変換するエンジン<span class="small">（Gecko、Blink、WebKit等）</span>を搭載している</li>
</ul>
<p><strong>Input:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb1-1"><a aria-hidden="true" tabindex="-1"></a>この文字は<span class="dt">&lt;</span><span class="kw">b</span><span class="dt">&gt;</span>太字<span class="dt">&lt;/</span><span class="kw">b</span><span class="dt">&gt;</span>にしましょう。<span class="dt">&lt;</span><span class="kw">br</span><span class="dt">/&gt;</span></span>
<span id="cb1-2"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">a</span><span class="ot"> href </span><span class="op">=</span> <span class="st">"https://www.jaysong.net"</span><span class="dt">&gt;</span>ここ<span class="dt">&lt;/</span><span class="kw">a</span><span class="dt">&gt;</span>をクリックしてください。</span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Output:</strong></p>
<p>この文字は<strong>太字</strong>にしましょう。<br> <a href="https://www.jaysong.net">ここ</a>をクリックしてください。</p>
</section>
<section id="markdownとは" class="slide level2">
<h2>Markdownとは</h2>
<ul>
<li>Mark<span class="alert"><strong>down</strong></span>（<i class="bi bi-markdown"></i>）: Mark<span class="alert"><strong>up</strong></span>言語の軽量版
<ul>
<li>文章作成に必要なタグ<span class="small">（tag）</span>を、より簡単に記述できる。</li>
</ul></li>
</ul>
<p><strong>Markup</strong>の場合<span class="small">（HTML）</span></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb2-1"><a aria-hidden="true" tabindex="-1"></a>この文字は<span class="dt">&lt;</span><span class="kw">b</span><span class="dt">&gt;</span>太字<span class="dt">&lt;/</span><span class="kw">b</span><span class="dt">&gt;</span>にしましょう。<span class="dt">&lt;</span><span class="kw">br</span><span class="dt">/&gt;</span></span>
<span id="cb2-2"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">a</span><span class="ot"> href </span><span class="op">=</span> <span class="st">"https://www.jaysong.net"</span><span class="dt">&gt;</span>ここ<span class="dt">&lt;/</span><span class="kw">a</span><span class="dt">&gt;</span>をクリックしてください。</span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Markdown</strong>の場合</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a aria-hidden="true" tabindex="-1"></a>この文字は**太字**にしましょう。</span>
<span id="cb3-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">ここ</span><span class="co">](https://www.jaysong.net)</span>をクリックしてください。</span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>結果</strong></p>
<p>この文字は<strong>太字</strong>にしましょう。<br> <a href="https://www.jaysong.net">ここ</a>をクリックしてください。</p>
</section>
<section id="markup-vs.-markdown表" class="slide level2">
<h2>Markup vs.&nbsp;Markdown（表）</h2>
<div class="columns">
<div class="column" style="width:70%;">
<p><strong>Markup</strong>（HTML）</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb4-1"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">table</span><span class="dt">&gt;</span></span>
<span id="cb4-2"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">thead</span><span class="ot"> style </span><span class="op">=</span> <span class="st">"font-weight:bold;"</span><span class="dt">&gt;</span></span>
<span id="cb4-3"><a aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>ID<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb4-4"><a aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>Name<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb4-5"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">thead</span><span class="dt">&gt;</span></span>
<span id="cb4-6"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">tr</span><span class="dt">&gt;</span></span>
<span id="cb4-7"><a aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>1<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb4-8"><a aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>Quarto<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb4-9"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">tr</span><span class="dt">&gt;</span></span>
<span id="cb4-10"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">tr</span><span class="dt">&gt;</span></span>
<span id="cb4-11"><a aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>2<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb4-12"><a aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">td</span><span class="dt">&gt;</span>Markdown<span class="dt">&lt;/</span><span class="kw">td</span><span class="dt">&gt;</span></span>
<span id="cb4-13"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">tr</span><span class="dt">&gt;</span></span>
<span id="cb4-14"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">table</span><span class="dt">&gt;</span></span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column" style="width:30%;">
<p><strong>Markdown</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> ID <span class="pp">|</span> Name     <span class="pp">|</span></span>
<span id="cb5-2"><a aria-hidden="true" tabindex="-1"></a><span class="pp">|----|----------|</span></span>
<span id="cb5-3"><a aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 1  <span class="pp">|</span> Quarto   <span class="pp">|</span></span>
<span id="cb5-4"><a aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 2  <span class="pp">|</span> Markdown <span class="pp">|</span></span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Output</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>ID</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Quarto</td>
</tr>
<tr class="even">
<td>2</td>
<td>Markdown</td>
</tr>
</tbody>
</table>
</div></div>
</section>
<section id="markup-vs.-markdown箇条書き1" class="slide level2">
<h2>Markup vs.&nbsp;Markdown（箇条書き1）</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Markup</strong>（HTML）</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">ul</span><span class="dt">&gt;</span></span>
<span id="cb6-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き1<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb6-3"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">ul</span><span class="dt">&gt;</span></span>
<span id="cb6-4"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き1A<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb6-5"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き1B<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb6-6"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">ul</span><span class="dt">&gt;</span></span>
<span id="cb6-7"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き2<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb6-8"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き3<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb6-9"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">ul</span><span class="dt">&gt;</span></span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column" style="width:50%;">
<p><strong>Markdown</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><a aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>箇条書き1</span>
<span id="cb7-2"><a aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>箇条書き1A</span>
<span id="cb7-3"><a aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>箇条書き1B</span>
<span id="cb7-4"><a aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>箇条書き2</span>
<span id="cb7-5"><a aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>箇条書き3</span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Output</strong></p>
<ul>
<li>箇条書き1
<ul>
<li>箇条書き1A</li>
<li>箇条書き1B</li>
</ul></li>
<li>箇条書き2</li>
<li>箇条書き3</li>
</ul>
</div></div>
</section>
<section id="markup-vs.-markdown箇条書き2" class="slide level2">
<h2>Markup vs.&nbsp;Markdown（箇条書き2）</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Markup</strong>（HTML）</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb8-1"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">ol</span><span class="dt">&gt;</span></span>
<span id="cb8-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き1<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb8-3"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">ol</span><span class="dt">&gt;</span></span>
<span id="cb8-4"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き1A<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb8-5"><a aria-hidden="true" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き1B<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb8-6"><a aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">ol</span><span class="dt">&gt;</span></span>
<span id="cb8-7"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き2<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb8-8"><a aria-hidden="true" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">li</span><span class="dt">&gt;</span>箇条書き3<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb8-9"><a aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">ol</span><span class="dt">&gt;</span></span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column" style="width:50%;">
<p><strong>Markdown</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>箇条書き1</span>
<span id="cb9-2"><a aria-hidden="true" tabindex="-1"></a><span class="ss">   1. </span>箇条書き1A</span>
<span id="cb9-3"><a aria-hidden="true" tabindex="-1"></a><span class="ss">   1. </span>箇条書き1B</span>
<span id="cb9-4"><a aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>箇条書き2</span>
<span id="cb9-5"><a aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>箇条書き3</span></code></pre></div><button title="コピー" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Output</strong></p>
<ol type="1">
<li>箇条書き1
<ol type="1">
<li>箇条書き1A</li>
<li>箇条書き1B</li>
</ol></li>
<li>箇条書き2</li>
<li>箇条書き3</li>
</ol>
</div></div>
</section>
<section id="quartoの登場" class="slide level2">
<h2>Quartoの登場</h2>
<p>2026年2月現在、Quartoは<span class="alert">R Markdownの（ほぼ）上位互換</span>だと考えても良い</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figs/intro/quarto_logo.svg" class="quarto-figure quarto-figure-center" width="250"></p>
</figure>
</div>
<ul>
<li>2022年7月登場（Ver. 1.0）したR markdownの後継</li>
<li>読み方は「<span class="alert"><strong>クゥオート</strong></span>」<span class="small">（クワトロじゃない）</span></li>
<li>断片化されつつある<span class="alert">R Markdown生態系を一つに統合</span>したもの
<ul>
<li>R Markdown界隈の{blogdown}、{bookdown}、{xaringan}、…</li>
<li>Quartoは別途のパッケージ不要</li>
</ul></li>
<li><span class="alert">R以外の言語、knitr以外のエンジン</span>も使用可能</li>
<li>R Markdownと<span class="alert">使い方はほぼ同じ</span></li>
</ul>
</section></section>
<section>
<section id="why-quarto" class="title-slide slide level1 center">
<h1><strong>2</strong> Why Quarto?</h1>

</section>
<section id="なぜquartor-markdownを使うか" class="slide level2">
<h2>なぜQuarto/R Markdownを使うか</h2>
<p>Quarto/R Markdownは<span class="alert"><strong>文芸的プログラミング</strong></span><span class="small">（literate programming）</span>のツール</p>
<ul>
<li><strong>文芸的プログラミング</strong>：ソースコードとドキュメントを別々のファイルに記入せず、一つのファイルでまとめるプログラミングのスタイル
<ul>
<li>既存の「コード + コメント<span class="small">（<code>#</code>、<code>//</code>、<code>&lt;!-- ~ --&gt;</code>、…）</span>」より発展した概念</li>
<li>プログラミングの界隈では流行らなかったが…</li>
</ul></li>
</ul>
<p><br></p>
<h3 id="学術研究における文芸的プログラミングとは">学術研究における文芸的プログラミングとは…</h3>
<ul>
<li>「何をしたか<span class="small">（<strong>code</strong>）</span>」と「そこから何が得られたか<span class="small">（<strong>result</strong>）</span>」、「説明<span class="small">（<strong>narrative</strong>; なぜそうしたか、その結果は何を意味するか、…）</span>」を同じ場所に記述すること
<ul>
<li>例）既存のやり方：<strong>R</strong>で分析し、推定結果や作成した図を<strong>LaTeX、Word</strong>に貼り付けながら論文や資料を作成</li>
<li>例）文芸的プログラミングのやり方：<strong>Quarto</strong></li>
</ul></li>
</ul>
</section>
<section id="文芸的プログラミングのすゝめ" class="slide level2">
<h2>文芸的プログラミングのすゝめ</h2>
<ul>
<li>「手作業」の排除によるエラー防止<span class="small">（自動化）</span></li>
<li>分析プロセスの透明化</li>
<li>バージョン管理システムとの親和性</li>
<li>環境依存性の記述とポータビリティ</li>
</ul>
<table class="caption-top">
<colgroup>
<col style="width: 16%">
<col style="width: 41%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">従来のツール（R + Word）</th>
<th style="text-align: left;">Quarto</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">プロセス</td>
<td style="text-align: left;">手作業の連続<span class="small">（分断）</span></td>
<td style="text-align: left;">コードによる自動化<span class="small">（統合）</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">変更への対応</td>
<td style="text-align: left;">最初からやり直し<span class="small">（高コスト）</span></td>
<td style="text-align: left;">再実行のみ<span class="small">（低コスト）</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">透明性</td>
<td style="text-align: left;">操作履歴が見えにくい</td>
<td style="text-align: left;">コードですべて可視化される</td>
</tr>
<tr class="even">
<td style="text-align: left;">再現性</td>
<td style="text-align: left;">低い<span class="small">（人の記憶や手作業に依存）</span></td>
<td style="text-align: left;">高い<span class="small">（データとコードがあれば再現可能）</span></td>
</tr>
</tbody>
</table>
<center>
<p><span class="math inline">\(\Downarrow\)</span></p>
QuartoやR Markdownを使用すると「分析結果」だけでなく「分析のプロセスそのもの」を成果物として保存・共有できる
</center>
</section>
<section id="文書生成の流れr-markdownの場合" class="slide level2">
<h2>文書生成の流れ（R Markdownの場合）</h2>
<p>R&amp;Knitr使用を前提として開発され、拡張されていくR Markdown</p>
<p><img data-src="figs/intro/flow_rmarkdown.png"></p>
</section>
<section id="文書生成の流れquartoの場合" class="slide level2">
<h2>文書生成の流れ（Quartoの場合）</h2>
<p>複数言語&amp;エンジン使用を念頭において開発されたQuarto</p>
<p><img data-src="figs/intro/flow_quarto.png"></p>
</section>
<section id="言語エンジンの豊富さ" class="slide level2">
<h2>言語、エンジンの豊富さ</h2>
<p>Quarto公式HPの<a href="https://quarto.org/docs/faq/rmarkdown.html" target="_blank">FAQ for R Markdown Users</a>により</p>
<blockquote>
<p>(…) Quarto is at its core multi-language and multi-engine (supporting Knitr, Jupyter, and Observable today and potentially other engines tomorrow). (…) Quarto was developed to be multilingual, beginning with R, Python, Javascript, and Julia, with the idea that it will work even for languages that don’t yet exist.</p>
</blockquote>
<ul>
<li>使用可能な言語：R、Python、Julia、Javascript、…</li>
<li>使用可能なエンジン：Knitr、Jupyter、Observable、…</li>
<li>その他：PDF作成の際、<span class="math inline">\(\LaTeX\)</span>でなくtypstも使用可能</li>
</ul>
</section>
<section id="生態系の統合" class="slide level2">
<h2>生態系の統合</h2>
<p>詳細な例は<a href="https://quarto.org/docs/faq/rmarkdown.html#i-use-x-bookdown-blogdown-etc..-what-is-the-quarto-equivalent" target="_blank">公式ホームページ</a>を確認</p>
<ul>
<li>ただし、Quartoは外部のパッケージでなく、拡張機能<span class="small">（extensions）</span>が存在</li>
<li>ダッシュボードの作成やShinyとの統合もOK</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>R Markdown</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">目的</th>
<th style="text-align: left;">必要パッケージ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">文書</td>
<td style="text-align: left;">不要</td>
</tr>
<tr class="even">
<td style="text-align: left;">書籍</td>
<td style="text-align: left;">{bookdown}</td>
</tr>
<tr class="odd">
<td style="text-align: left;">スライド</td>
<td style="text-align: left;">{xaringan}</td>
</tr>
<tr class="even">
<td style="text-align: left;">ホームページ</td>
<td style="text-align: left;">{blogdown}</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ポスター</td>
<td style="text-align: left;">{posterdown}</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p><strong>Quarto</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">目的</th>
<th style="text-align: left;">必要パッケージ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">文書</td>
<td style="text-align: left;">不要</td>
</tr>
<tr class="even">
<td style="text-align: left;">書籍</td>
<td style="text-align: left;">不要</td>
</tr>
<tr class="odd">
<td style="text-align: left;">スライド</td>
<td style="text-align: left;">不要</td>
</tr>
<tr class="even">
<td style="text-align: left;">ホームページ</td>
<td style="text-align: left;">不要</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ポスター</td>
<td style="text-align: left;">???</td>
</tr>
</tbody>
</table>
</div></div>
</section>
<section id="研究成果の共有ツールとしてのquarto" class="slide level2">
<h2>研究成果の共有ツールとしてのQuarto</h2>
<h4 id="研究成果の共有方法">研究成果の共有方法</h4>
<ul>
<li><span class="alert"><strong>文書</strong></span><span class="small">（論文、報告書、レポート、書籍、…）</span></li>
<li>学会発表のための<span class="alert"><strong>スライド</strong></span>、ポスター</li>
<li>再現/再生可能な研究のための<span class="alert"><strong>再現用コード</strong></span></li>
<li>ウェブサイト、ダッシュボード、ウェブアプリケーション</li>
</ul>
<h4 id="quartoの役割">Quartoの役割</h4>
<p>Quarto一つでは以上のすべて<span class="small">（実はほとんど）</span>が作成できる</p>
<ul>
<li>基礎的なMarkdown知識を身につければonline appendix、supplementary material、Harvard Dataverse用の再現用コードが作成可能
<ul>
<li>静的ドキュメント<span class="small">（PDF等）</span>だけでなく、HTMLベースの動的ドキュメントも</li>
</ul></li>
<li>文書とスライドは片方を作っておけば、少しの修正で切り替えも可能</li>
</ul>
</section></section>
<section>
<section id="コース概要" class="title-slide slide level1 center">
<h1><strong>3</strong> コース概要</h1>

</section>
<section id="コース概要-1" class="slide level2">
<h2>コース概要</h2>
<p>進度によって内容が若干変わることがある。</p>
<ol type="1">
<li>Quartoとは &amp; R Markdownとの比較</li>
<li>実習環境の導入</li>
<li>Markdown文法の基礎</li>
<li>文書の作成</li>
<li>スライドの作成</li>
<li>作成した文書・スライドの共有</li>
</ol>
</section>
<section id="到達目標" class="slide level2">
<h2>到達目標</h2>
<ul>
<li>Markdown文法が分かる。</li>
<li>Quartoで再現・再生用ファイルが作成できる。
<ul>
<li>PDF文書が作成できる。</li>
</ul></li>
<li>QuartoでHTMLスライドが作れる。</li>
<li>作成した文書、スライドが共有できる。</li>
<li>より複雑なプロジェクトに取り組むための基礎知識を習得する。
<ul>
<li>Quarto公式のガイド/レファレンスを読めば応用できるようになる。</li>
</ul></li>
</ul>
</section>
<section id="コース資料の入手先" class="slide level2">
<h2>コース資料の入手先</h2>
<ul>
<li><a href="https://www.jaysong.net/quarto_intro" class="uri">https://www.jaysong.net/quarto_intro</a></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="01_intro_slide_files/figure-revealjs/unnamed-chunk-2-1.png" class="quarto-figure quarto-figure-center" width="1800"></p>
</figure>
</div>
</div>
</div>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>Quartoとは</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-pointer/pointer.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'pointer': {"key":"q","color":"red","pointerSize":16,"alwaysVisible":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1200,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealPointer, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "コピーしました");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "コピーしました");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
                // target, if specified
                link.setAttribute("target", "_blank");
                if (link.getAttribute("rel") === null) {
                  link.setAttribute("rel", "noopener");
                }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
            let selectedAnnoteEl;
            const selectorForAnnotation = ( cell, annotation) => {
              let cellAttr = 'data-code-cell="' + cell + '"';
              let lineAttr = 'data-code-annotation="' +  annotation + '"';
              const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
              return selector;
            }
            const selectCodeLines = (annoteEl) => {
              const doc = window.document;
              const targetCell = annoteEl.getAttribute("data-target-cell");
              const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
              const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              const lines = annoteSpan.getAttribute("data-code-lines").split(",");
              const lineIds = lines.map((line) => {
                return targetCell + "-" + line;
              })
              let top = null;
              let height = null;
              let parent = null;
              if (lineIds.length > 0) {
                  //compute the position of the single el (top and bottom and make a div)
                  const el = window.document.getElementById(lineIds[0]);
                  top = el.offsetTop;
                  height = el.offsetHeight;
                  parent = el.parentElement.parentElement;
                if (lineIds.length > 1) {
                  const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                  const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                  height = bottom - top;
                }
                if (top !== null && height !== null && parent !== null) {
                  // cook up a div (if necessary) and position it 
                  let div = window.document.getElementById("code-annotation-line-highlight");
                  if (div === null) {
                    div = window.document.createElement("div");
                    div.setAttribute("id", "code-annotation-line-highlight");
                    div.style.position = 'absolute';
                    parent.appendChild(div);
                  }
                  div.style.top = top - 2 + "px";
                  div.style.height = height + 4 + "px";
                  div.style.left = 0;
                  let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                  if (gutterDiv === null) {
                    gutterDiv = window.document.createElement("div");
                    gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                    gutterDiv.style.position = 'absolute';
                    const codeCell = window.document.getElementById(targetCell);
                    const gutter = codeCell.querySelector('.code-annotation-gutter');
                    gutter.appendChild(gutterDiv);
                  }
                  gutterDiv.style.top = top - 2 + "px";
                  gutterDiv.style.height = height + 4 + "px";
                }
                selectedAnnoteEl = annoteEl;
              }
            };
            const unselectCodeLines = () => {
              const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
              elementsIds.forEach((elId) => {
                const div = window.document.getElementById(elId);
                if (div) {
                  div.remove();
                }
              });
              selectedAnnoteEl = undefined;
            };
              // Handle positioning of the toggle
          window.addEventListener(
            "resize",
            throttle(() => {
              elRect = undefined;
              if (selectedAnnoteEl) {
                selectCodeLines(selectedAnnoteEl);
              }
            }, 10)
          );
          function throttle(fn, ms) {
          let throttle = false;
          let timer;
            return (...args) => {
              if(!throttle) { // first call gets through
                  fn.apply(this, args);
                  throttle = true;
              } else { // all the others get throttled
                  if(timer) clearTimeout(timer); // cancel #2
                  timer = setTimeout(() => {
                    fn.apply(this, args);
                    timer = throttle = false;
                  }, ms);
              }
            };
          }
            const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
            for (let i=0; i<annoteTargets.length; i++) {
              const annoteTarget = annoteTargets[i];
              const targetCell = annoteTarget.getAttribute("data-target-cell");
              const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
              const contentFn = () => {
                const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
                if (content) {
                  const tipContent = content.cloneNode(true);
                  tipContent.classList.add("code-annotation-tip-content");
                  return tipContent.outerHTML;
                }
              }
              const config = {
                allowHTML: true,
                content: contentFn,
                onShow: (instance) => {
                  selectCodeLines(instance.reference);
                  instance.reference.classList.add('code-annotation-active');
                  window.tippy.hideAll();
                },
                onHide: (instance) => {
                  unselectCodeLines();
                  instance.reference.classList.remove('code-annotation-active');
                },
                maxWidth: 300,
                delay: [50, 0],
                duration: [200, 0],
                offset: [5, 10],
                arrow: true,
                trigger: 'click',
                appendTo: function(el) {
                  return el.parentElement.parentElement.parentElement;
                },
                interactive: true,
                interactiveBorder: 10,
                theme: 'light-border',
                placement: 'right',
                positionFixed: true,
                popperOptions: {
                  modifiers: [
                  {
                    name: 'flip',
                    options: {
                      flipVariations: false, // true by default
                      allowedAutoPlacements: ['right'],
                      fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                    },
                  },
                  {
                    name: 'preventOverflow',
                    options: {
                      mainAxis: false,
                      altAxis: false
                    }
                  }
                  ]        
                }      
              };
              window.tippy(annoteTarget, config); 
            }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>